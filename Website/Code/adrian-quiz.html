<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../css/adrian-layout.css">
    <link rel="stylesheet" href="../css/adrian-quiz.css">
    <meta charset="UTF-8">
    <title>What table are you?</title>
</head>
<body>
    <div id="nav">
        <p>Nav</p>
    </div>

    <div id="bodyMain">

        <div class="questionFrame">
            <form id="formTableQuiz">

                <div class="questionWrapper">
                    <div class="questionImage"></div>
                    <div class="questionContents">
                        <p>Question 1</p>

                        <div class="questionRadioGrid">
                            <label><input type="radio" id="q1s1" name="q1" value="1"> Option 1</label>
                            <label><input type="radio" id="q1s2" name="q1" value="2"> Option 2</label>
                            <label><input type="radio" id="q1s3" name="q1" value="3"> Option 3</label>
                            <label><input type="radio" id="q1s4" name="q1" value="4"> Option 4</label>
                        </div>
                    </div>
                </div>

                <div class="questionWrapper">
                    <div class="questionImage"></div>
                    <div class="questionContents">
                        <p>Question 2</p>

                        <div class="questionRadioGrid">
                            <label><input type="radio" id="q2s1" name="q2" value="1"> Option 1</label>
                            <label><input type="radio" id="q2s2" name="q2" value="2"> Option 2</label>
                            <label><input type="radio" id="q2s3" name="q2" value="3"> Option 3</label>
                            <label><input type="radio" id="q2s4" name="q2" value="4"> Option 4</label>
                        </div>
                    </div>
                </div>

                <div class="questionWrapper">
                    <div class="questionImage"></div>
                    <div class="questionContents">
                        <p>Question 3</p>

                        <div class="questionRadioGrid">
                            <label><input type="radio" id="q3s1" name="q3" value="1"> Option 1</label>
                            <label><input type="radio" id="q3s2" name="q3" value="2"> Option 2</label>
                            <label><input type="radio" id="q3s3" name="q3" value="3"> Option 3</label>
                            <label><input type="radio" id="q3s4" name="q3" value="4"> Option 4</label>
                        </div>
                    </div>
                </div>

                <div class="questionWrapper">
                    <div class="questionImage"></div>
                    <div class="questionContents">
                        <p>Question 4</p>

                        <div class="questionRadioGrid">
                            <label><input type="radio" id="q4s1" name="q4" value="1"> Option 1</label>
                            <label><input type="radio" id="q4s2" name="q4" value="2"> Option 2</label>
                            <label><input type="radio" id="q4s3" name="q4" value="3"> Option 3</label>
                            <label><input type="radio" id="q4s4" name="q4" value="4"> Option 4</label>
                        </div>
                    </div>
                </div>

                <div class="questionWrapper">
                    <div class="questionImage"></div>
                    <div class="questionContents">
                        <p>Question 5</p>

                        <div class="questionRadioGrid">
                            <label><input type="radio" id="q5s1" name="q5" value="1"> Option 1</label>
                            <label><input type="radio" id="q5s2" name="q5" value="2"> Option 2</label>
                            <label><input type="radio" id="q5s3" name="q5" value="3"> Option 3</label>
                            <label><input type="radio" id="q5s4" name="q5" value="4"> Option 4</label>
                        </div>
                    </div>
                </div>


                <input type="submit" value="Submit">
            </form>

            <script>
                document.getElementById('formTableQuiz').addEventListener('submit', function(e) {
                    // Prevent refresh
                    e.preventDefault();

                    // List of questions
                    const questions = ['q1', 'q2','q3','q4','q5'];
                    // Score holder
                    let score = 0;
                    let quizCompleted = true

                    // Loop through each question and get how many points its worth
                    questions.forEach(q => {
                        const selected = document.querySelector(`input[name="${q}"]:checked`);

                        // If quiz completed add value else set as false
                        if (selected) {
                            score += parseInt(selected.value);
                        } else {
                            quizCompleted = false;
                        }
                    });

                    // Handle quiz not complete
                    if(quizCompleted) {
                        // Redirect with score in URL
                        window.location.href = `score-page.html?score=${score}`;
                    } else {
                        alert("Please fill in quiz!")
                    }

                });
            </script>

        </div>

    </div>

    <footer>

    </footer>
</body>
</html>