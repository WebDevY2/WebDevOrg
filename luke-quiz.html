<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="css/luke-css.css">
    <meta charset="UTF-8" />
    <title>Combined Quiz Page</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

<audio id="clickSound" src="Sounds/luke-click.wav" preload="auto"></audio>
<audio id="FinishSound" src="Sounds/luke-finishQuiz.mp3" preload="auto"></audio>


  <header>
    <div class="logo"><a href="index.html">logo</a></div>
  </header>

  <div class="quiz-title">Which Lightsaber Color Are You?</div>

  <!-- Question 1 -->
  <div class="question-box">
    <p><strong>1. You’re waiting in a long queue for lunch at school and someone cuts in front of you. What do you do? </strong></p>
    <label><input type="radio" name="q1" value="blue" onclick="playClickSound()">A. Let a teacher know that they’ve just pushed in. </label><br><br>
    <label><input type="radio" name="q1" value="green" onclick="playClickSound()">B. You approach them calmly and ask them to go to where they should be in the queue. </label><br><br>
    <label><input type="radio" name="q1" value="red" onclick="playClickSound()">C. This fills you with rage, you go up to them and push them out of the line making sure they must go all the way to the back </label><br><br>
    <label><input type="radio" name="q1" value="purple" onclick="playClickSound()">D. You grant them a rank in the lunch queue but do not let them have a seat.</label><br><br>
    <label><input type="radio" name="q1" value="yellow" onclick="playClickSound()">E. They probably are just hungry, but you still think it is wrong, so you politely ask them to go to the back </label><br><br>
    <label><input type="radio" name="q1" value="orange" onclick="playClickSound()">F. It doesn't matter to you as you know a shortcut to get to the front anyways </label><br><br>
    <label><input type="radio" name="q1" value="white" onclick="playClickSound()">G. It doesn't have affect you enough to care. You just let it go. </label><br><br>
    <label><input type="radio" name="q1" value="black" onclick="playClickSound()">H. You make sure to push in front of them, no one beats you. </label><br><br>

  </div>

  <!-- Question 2 -->
  <div class="question-box">
    <p><strong>2. You go to the library and there are no seats what do you do?</strong></p>
    <label><input type="radio" name="q2" value="blue" onclick="playClickSound()">A.  </label><br>
<label><input type="radio" name="q2" value="green" onclick="playClickSound()">B. </label><br>
<label><input type="radio" name="q2" value="red" onclick="playClickSound()">C. </label><br>
<label><input type="radio" name="q2" value="purple" onclick="playClickSound()">D. </label><br>
<label><input type="radio" name="q2" value="yellow" onclick="playClickSound()">E. </label><br>
<label><input type="radio" name="q2" value="orange" onclick="playClickSound()">F. </label><br>
<label><input type="radio" name="q2" value="white" onclick="playClickSound()">G. </label><br>
<label><input type="radio" name="q2" value="black" onclick="playClickSound()">H. </label>

  </div>

  <!-- Question 3 -->
  <div class="question-box">
    <p><strong>3. What is your greatest strength?</strong></p>
    <label><input type="radio" name="q3" value="red"> Determination</label><br>
    <label><input type="radio" name="q3" value="blue"> Loyalty</label><br>
    <label><input type="radio" name="q3" value="green"> Intelligence</label><br>
    <label><input type="radio" name="q3" value="purple"> Creativity</label>
  </div>

  <div class="question-box">
    <p><strong>4. What is your greatest strength?</strong></p>
    <label><input type="radio" name="q3" value="red"> Determination</label><br>
    <label><input type="radio" name="q3" value="blue"> Loyalty</label><br>
    <label><input type="radio" name="q3" value="green"> Intelligence</label><br>
    <label><input type="radio" name="q3" value="purple"> Creativity</label>
  </div>

  <div class="question-box">
    <p><strong>5. What is your greatest strength?</strong></p>
    <label><input type="radio" name="q3" value="red"> Determination</label><br>
    <label><input type="radio" name="q3" value="blue"> Loyalty</label><br>
    <label><input type="radio" name="q3" value="green"> Intelligence</label><br>
    <label><input type="radio" name="q3" value="purple"> Creativity</label>
  </div>

  <div class="quiz-buttons">
    <button onclick="submitQuiz()">Submit Quiz</button>
    <button onclick="retakeQuiz()">Retake Quiz</button>
  </div>

  <div class="result" id="result">Your lightsaber color will appear here!</div>
    <div id="resultImages" style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;"></div>
  <div class="result-description" id="resultDesc">Result description goes here.</div>

  <script>
    function submitQuiz() {
      const answers = {};
      const questions = ['q1', 'q2', 'q3'];
      let answeredAll = true;

      for (let q of questions) {
        const selected = document.querySelector(`input[name="${q}"]:checked`);
        if (selected) {
          const val = selected.value;
          answers[val] = (answers[val] || 0) + 1;
        } else {
          answeredAll = false;
        }
      }

      if (!answeredAll) {
        document.getElementById('result').textContent = "Please answer all questions!";
        document.getElementById('result').style.color = "orange";
        document.getElementById('resultDesc').textContent = "";
        return;
      }

      // Determine most selected lightsaber color
      let topColor = null;
      let maxCount = 0;
      for (let color in answers) {
        if (answers[color] > maxCount) {
          maxCount = answers[color];
          topColor = color;
        }
      }
      const imageSources = {
        blue: [
          "Pictures/luke-anakinBlue.png",
          "Pictures/luke-reyBlue.png",
          "Pictures/luke-lukeBlue.png"
        ],
        green: [
          "Pictures/luke-green.jpeg",
          "Pictures/luke-quigonGreen.jpeg",
          "Pictures/luke-yodaGreen.jpeg"
        ],
        red: [
          "Pictures/luke-vaderRed.jpeg",
          "Pictures/luke-kyloRed.jpeg",        
          ],
        purple: [
          "images/purple_lightsaber.jpg"
        ],
        yellow: [
          "images/yellow_lightsaber.jpg"
        ]
      };
      
      const colorDescriptions = {
        blue: "You are loyaly, stable, and believe in truth and justice above all else. Notable Jedis that had a blue lightsaber were Obiwan Kenobi, Anakin Skywalker and Rey!",
        green: "You prioritise growth, safety, harmony. As a jedi you are extremely in tune with the force. The most famous green lightsaber jedi is Master Yoda!",
        red: "Your ambition fuels you — powerful, passionate, and unstoppable.",
        purple: "You walk the line — a mix of light and dark, creative and independent.",
        yellow: ""
      };


      // Update result text and description
    shootConfetti();
    document.getElementById('result').textContent = `You are: ${topColor.toUpperCase()} Lightsaber`;
    document.getElementById('result').style.color = topColor;
    document.getElementById('resultDesc').textContent = colorDescriptions[topColor] || "Description not available.";

// Update the image
const resultImagesContainer = document.getElementById('resultImages');
resultImagesContainer.innerHTML = ""; // Clear previous images

const images = imageSources[topColor];
if (images && images.length > 0) {
  images.forEach(src => {
    const img = document.createElement('img');
    img.src = src;
    img.alt = `${topColor} lightsaber`;
    img.style.maxWidth = "1000px";
    img.style.borderRadius = "5px";
    img.style.boxShadow = "0 4px 8px rgba(0,0,0,0.2)";

    resultImagesContainer.appendChild(img);
  });
  resultImagesContainer.style.display = "flex";
} else {
  resultImagesContainer.style.display = "none";
}


    
    
}

    function retakeQuiz() {
      document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
      document.getElementById('result').textContent = "Your lightsaber color will appear here!";
      document.getElementById('result').style.color = black;
      document.getElementById('resultDesc').textContent = "Result description goes here.";
    }

    function playClickSound() {
      const sound = document.getElementById("clickSound");
      sound.currentTime = 0; // Rewind to start
      sound.play();
    }


      function shootConfetti() {
        // Trigger confetti
        confetti({
          particleCount: 150,
          spread: 70,
          origin: { y: 0.6 }
        });
        const sound = document.getElementById("FinishSound");
        sound.currentTime = 0; // Rewind to start
        sound.play();
      }
       
  </script>


  <!-- Buttons -->
  <div class="quiz-buttons">
    <button onclick="retakeQuiz()">Retake Quiz</button>
    <button><a href = "adrian-quiz.html">Adrian's Quiz</a></button>
    <button><a href = "horror_quiz.html">Finn's Quiz</a></button>
    <button><a href = "Marvel.html">Shatha's Quiz</a></button>
  </div>

</body>
</html>
